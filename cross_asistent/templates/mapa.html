{% extends 'widget.html' %}
{% load static %}
{% block title %}Mapa de la UTC üó∫Ô∏è{% endblock %}
{% block extra_head %}
<link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=" crossorigin=""/>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
<style>
    #map { 
        height: 100vh; 
        width: 100%;
    }
</style>
{% endblock %}

{% block content %}
<main class="full_page" id='map'></main>

<div class="offcanvas offcanvas-start" tabindex="-1" id="offcanvasImage" aria-labelledby="offcanvasImageLabel">
  <div class="offcanvas-header">
    <h5 class="offcanvas-title" id="offcanvasImageLabel">Imagen</h5>
    <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"></button>
  </div>
  <div class="offcanvas-body">
    <img id="offcanvasImg" src="" alt="qr" class="img-fluid">
    <div id="offcanvasText" class="mt-3"></div>
  </div>
</div>
{% endblock %}

{% block scripts_end %}
<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=" crossorigin=""></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
<script>
    var lng = -100.93662;
    var lat = 25.55707;

    var map = L.map('map').setView([lat, lng], 16);

    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
        maxZoom: 19,
        attribution: '&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>'
    }).addTo(map);

    // Coordenadas del Edificio 4
    var polygon1 = L.polygon([
        [25.55661,-100.93688],
        [25.55633,-100.93647],
        [25.55613,-100.93662],
        [25.55642,-100.93703]
    ], {
        color: 'red',
        fillColor: '#f03',
        fillOpacity: 0.5
    }).addTo(map);

    var imageUrl1 = "{% static 'img/qr_phtone.png' %}";

    polygon1.on('click', function() {
        openOffcanvasWithText(imageUrl1, "Lorem ipsum dolor sit amet, consectetur adipiscing elit. Praesent volutpat ut metus at consequat. Curabitur euismod tortor nec purus tempor, vel viverra magna vehicula.");
    });

    // Coordenadas del Centro de Idiomas
    var polygon2 = L.polygon([
        [25.55715,-100.93684],
        [25.55742,-100.93724],
        [25.55757,-100.93711],
        [25.55731,-100.93670]
    ], {
        color: 'blue',
        fillColor: '#00f',
        fillOpacity: 0.5
    }).addTo(map);

    var imageUrl2 = "{% static 'img/qr_2.png' %}";

    polygon2.on('click', function() {
        openOffcanvasWithText(imageUrl2, "Lorem ipsum dolor sit amet, consectetur adipiscing elit. Praesent volutpat ut metus at consequat. Curabitur euismod tortor nec purus tempor, vel viverra magna vehicula.");
    });

    // Coordenadas del Laboratorio 7B
    var polygon3 = L.polygon([
        [25.55704,-100.93644],
        [25.55718,-100.93631],
        [25.55694,-100.93593],
        [25.55679,-100.93606]
    ], {
        color: 'red',
        fillColor: '#f03',
        fillOpacity: 0.5
    }).addTo(map);

    var imageUrl3 = "{% static 'img/qr_2.png' %}";

    polygon3.on('click', function() {
        openOffcanvasWithText(imageUrl3, "Lorem ipsum dolor sit amet, consectetur adipiscing elit. Praesent volutpat ut metus at consequat. Curabitur euismod tortor nec purus tempor, vel viverra magna vehicula.");
    });

    // Coordenadas de Vinculacion
    var polygon4 = L.polygon([
        [25.55813,-100.93653],
        [25.55794,-100.93623],
        [25.55765,-100.93646],
        [25.55785,-100.93676]
    ], {
        color: 'red',
        fillColor: '#f03',
        fillOpacity: 0.5
    }).addTo(map);

    var imageUrl4 = "{% static 'img/qr_2.png' %}";

    polygon4.on('click', function() {
        openOffcanvasWithText(imageUrl4, "Lorem ipsum dolor sit amet, consectetur adipiscing elit. Praesent volutpat ut metus at consequat. Curabitur euismod tortor nec purus tempor, vel viverra magna vehicula.");
    });

// Coordenadas de Rectoria
var polygon5 = L.polygon([
    [25.55767,-100.93590],
    [25.55748,-100.93559],
    [25.55719,-100.93581],
    [25.55741,-100.93612],
], {
    color: 'red',
    fillColor: '#f03',
    fillOpacity: 0.5
}).addTo(map);

var imageUrl5 = "{% static 'img/UTC_logo-plano.webp' %}";

polygon5.on('click', function() {
    openOffcanvasWithText(imageUrl5, "Lorem ipsum dolor sit amet, consectetur adipiscing elit. Praesent volutpat ut metus at consequat. Curabitur euismod tortor nec purus tempor, vel viverra magna vehicula.");
});

 // Coordenadas de Biblioteca
var polygon6 = L.polygon([
    [25.55651,-100.93613],
    [25.55639,-100.93594],
    [25.55615,-100.93616],
    [25.55628,-100.93633],
], {
    color: 'red',
    fillColor: '#f03',
    fillOpacity: 0.5
}).addTo(map);
8
var imageUrl6 = "{% static 'img/qr_2.png' %}";

polygon6.on('click', function() {
    openOffcanvasWithText(imageUrl6, "Lorem ipsum dolor sit amet, consectetur adipiscing elit. Praesent volutpat ut metus at consequat. Curabitur euismod tortor nec purus tempor, vel viverra magna vehicula.");
});

// Coordenadas de Cafeteria UTC 2
var polygon7 = L.polygon([
    [25.55616,-100.93610],
    [25.55607,-100.93618],
    [25.55602,-100.93613],
    [25.55611,-100.93604],
], {
    color: 'red',
    fillColor: '#f03',
    fillOpacity: 0.5
}).addTo(map);

var imageUrl7 = "{% static 'img/UTC_logo-plano.webp' %}";

polygon7.on('click', function() {
    openOffcanvasWithText(imageUrl7, "Lorem ipsum dolor sit amet, consectetur adipiscing elit. Praesent volutpat ut metus at consequat. Curabitur euismod tortor nec purus tempor, vel viverra magna vehicula.");
});

// Coordenadas de Edificio 3 
var polygon8 = L.polygon([
    [25.55611,-100.93582],
    [25.55583,-100.93547],
    [25.55566,-100.93564],
    [25.55594,-100.93600],
], {
    color: 'red',
    fillColor: '#f03',
    fillOpacity: 0.5
}).addTo(map);

var imageUrl8 = "{% static 'img/qr_2.png' %}";

polygon8.on('click', function() {
    openOffcanvasWithText(imageUrl8, "Lorem ipsum dolor sit amet, consectetur adipiscing elit. Praesent volutpat ut metus at consequat. Curabitur euismod tortor nec purus tempor, vel viverra magna vehicula.");
});

// Coordenadas del Domo 
var polygon9 = L.polygon([
    [25.55552,-100.93498],
    [25.55533,-100.93471],
    [25.55515,-100.93486],
    [25.55534,-100.93514],
], {
    color: 'red',
    fillColor: '#f03',
    fillOpacity: 0.5
}).addTo(map);

var imageUrl9 = "{% static 'img/qr_2.png' %}";

polygon9.on('click', function() {
    openOffcanvasWithText(imageUrl9, "Lorem ipsum dolor sit amet, consectetur adipiscing elit. Praesent volutpat ut metus at consequat. Curabitur euismod tortor nec purus tempor, vel viverra magna vehicula.");
});

// Coordenadas del Edificio 2 
var polygon10 = L.polygon([
    [25.55495,-100.93495],
    [25.55471,-100.93458],
    [25.55455,-100.93471],
    [25.55479,-100.93508],
], {
    color: 'red',
    fillColor: '#f03',
    fillOpacity: 0.5
}).addTo(map);

var imageUrl10 = "{% static 'img/qr_2.png' %}";

polygon10.on('click', function() {
    openOffcanvasWithText(imageUrl10, "Lorem ipsum dolor sit amet, consectetur adipiscing elit. Praesent volutpat ut metus at consequat. Curabitur euismod tortor nec purus tempor, vel viverra magna vehicula.");
});

// Coordenadas del Laboratorio 5 
var polygon11 = L.polygon([
    [25.55527,-100.93468],
    [25.55515,-100.93479],
    [25.55503,-100.93462],
    [25.55515,-100.93451],
], {
    color: 'red',
    fillColor: '#f03',
    fillOpacity: 0.5
}).addTo(map);

var imageUrl11 = "{% static 'img/qr_2.png' %}";

polygon11.on('click', function() {
    openOffcanvasWithText(imageUrl11, "Lorem ipsum dolor sit amet, consectetur adipiscing elit. Praesent volutpat ut metus at consequat. Curabitur euismod tortor nec purus tempor, vel viverra magna vehicula.");
});

// Coordenadas de Cafeteria UTC 1 
var polygon12 = L.polygon([
    [25.55501,-100.93408],
    [25.55482,-100.93430],
    [25.55473,-100.93421],
    [25.55491,-100.93399],
], {
    color: 'red',
    fillColor: '#f03',
    fillOpacity: 0.5
}).addTo(map);

var imageUrl12 = "{% static 'img/qr_2.png' %}";

polygon12.on('click', function() {
    openOffcanvasWithText(imageUrl12, "Lorem ipsum dolor sit amet, consectetur adipiscing elit. Praesent volutpat ut metus at consequat. Curabitur euismod tortor nec purus tempor, vel viverra magna vehicula.");
});

// Coordenadas del Edificio 1 
var polygon13 = L.polygon([
    [25.55527,-100.93369],
    [25.55545,-100.93352],
    [25.55575,-100.93393],
    [25.55556,-100.93409],
], {
    color: 'red',
    fillColor: '#f03',
    fillOpacity: 0.5
}).addTo(map);

var imageUrl13 = "{% static 'img/qr_2.png' %}";

polygon13.on('click', function() {
    openOffcanvasWithText(imageUrl13, "Lorem ipsum dolor sit amet, consectetur adipiscing elit. Praesent volutpat ut metus at consequat. Curabitur euismod tortor nec purus tempor, vel viverra magna vehicula.");
});

// Coordenadas del Laboratorio de PLC
var polygon14 = L.polygon([
    [25.55573,-100.93424],
    [25.55586,-100.93411],
    [25.55615,-100.93447],
    [25.55602,-100.93461],
], {
    color: 'red',
    fillColor: '#f03',
    fillOpacity: 0.5
}).addTo(map);

var imageUrl14 = "{% static 'img/qr_2.png' %}";

polygon14.on('click', function() {
    openOffcanvasWithText(imageUrl14, "Lorem ipsum dolor sit amet, consectetur adipiscing elit. Praesent volutpat ut metus at consequat. Curabitur euismod tortor nec purus tempor, vel viverra magna vehicula.");
});

// Coordenadas de Caceta 1
var polygon15 = L.polygon([
    [25.55818,-100.93681],
    [25.55812,-100.93688],
    [25.55808,-100.93683],
    [25.55815,-100.93677],
], {
    color: 'red',
    fillColor: '#f03',
    fillOpacity: 0.5
}).addTo(map);

var imageUrl15 = "{% static 'img/qr_2.png' %}";

polygon15.on('click', function() {
    openOffcanvasWithText(imageUrl15, "Lorem ipsum dolor sit amet, consectetur adipiscing elit. Praesent volutpat ut metus at consequat. Curabitur euismod tortor nec purus tempor, vel viverra magna vehicula.");
});

// Coordenadas de Caceta 2
var polygon16 = L.polygon([
    [25.55621,-100.93470],
    [25.55617,-100.93474],
    [25.55609,-100.93465],
    [25.55614,-100.93461],
], {
    color: 'red',
    fillColor: '#f03',
    fillOpacity: 0.5
}).addTo(map);

var imageUrl16 = "{% static 'img/qr_2.png' %}";

polygon16.on('click', function() {
    openOffcanvasWithText(imageUrl16, "Lorem ipsum dolor sit amet, consectetur adipiscing elit. Praesent volutpat ut metus at consequat. Curabitur euismod tortor nec purus tempor, vel viverra magna vehicula.");
});


function openOffcanvasWithText(imageUrl, text) {
    document.getElementById('offcanvasImg').src = imageUrl;
    document.getElementById('offcanvasText').innerText = text;
    var offcanvas = new bootstrap.Offcanvas(document.getElementById('offcanvasImage'));
    offcanvas.show();
}
</script>
{% endblock %}
