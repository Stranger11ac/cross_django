{% extends 'base/widget.html' %}
{% load static %}
{% block title %}Mapa de la UTC üó∫Ô∏è{% endblock %}

{% block extra_head %}
<link href="https://api.mapbox.com/mapbox-gl-js/v3.4.0/mapbox-gl.css" rel="stylesheet">
<link href="https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-directions/v4.1.1/mapbox-gl-directions.css" rel="stylesheet">
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
  integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
{% endblock %}
{% block content %}
<main class="full_page" id='map'>
  <!-- Controles de ruta -->
  <section class="controls_route show card m-2" id="controls_route">
    <div class="card-header d-flex justify-content-between align-items-center p-3">
      <h6 class="m-0"><i class="fa-solid fa-route me-1"></i>Como LLegar...</h6>
      <button type="button" class="btn-close" id="closeControlsRoute" data-close="controls_route"></button>
    </div>
    <form class="card-body p-3" autocomplete="off">
      <select id="origen" id="formControlSm" class="form-control form-control-sm mb-2" required>
        <option disabled selected hidden>Tu ubicacion</option>
      </select>
      <select id="destino" class="form-control form-control-sm">
        <option value="">Seleccionar destino</option>
      </select>
      <button id="calcularRuta" type="button" class="btn btn_detail btn-block mt-2" required>
        ir <i class="fa-solid fa-diamond-turn-right ms-1"></i>
      </button>
    </form>
  </section>

  <style>
    #menu {
      position: absolute;
      background: #efefef;
      padding: 10px;
      z-index: 1;
      bottom: 50px;
      font-family: 'Open Sans', sans-serif;
    }
  </style>
</main>

<!-- Canvas lateral -->
<div class="offcanvas offcanvas-start" tabindex="-1" id="infoLateral" aria-labelledby="infoLateralLabel">
  <div class="offcanvas-header position-relative p-0">
    <button type="button" class="btn-close position-absolute top-0 end-0 p-4 m-1 m-md-2" data-bs-dismiss="offcanvas" aria-label="Close"></button>
    <div class="bg-image">
      <img src="{% static 'img/default_image.webp' %}" id="imagen_actual" class="img-fluid" />
      <div class="mask mask_white">
        <div class="d-flex align-items-end h-100 px-4 px-md-3 px-xl-5">
          <h5 class="fw-bold mb-0" id="lateralTitle">Informacion"</h5>
        </div>
      </div>
    </div>
  </div>
  <div class="offcanvas-body">
    <div id="offcanvasContent">
      <!-- Aqu√≠ se insertar√° din√°micamente el contenido -->
    </div>
  </div>
</div>

<!-- Canvas Bajo -->
<div class="offcanvas offcanvas-bottom" tabindex="-1" id="offcanvasBottom" aria-labelledby="offcanvasBottomLabel">
  <div class="offcanvas-header">
    <h5 class="offcanvas-title" id="offcanvasBottomLabel">Offcanvas bottom</h5>
    <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"></button>
  </div>
  <div class="offcanvas-body small" id="offcanvasbody">
    <input id="satellite-streets-v12" type="radio" name="rtoggle" value="satellite" checked="checked">
    <label for="satellite-streets-v12">satellite streets</label>
    <input id="light-v11" type="radio" name="rtoggle" value="light">
    <label for="light-v11">light</label>
    <input id="dark-v11" type="radio" name="rtoggle" value="dark">
    <label for="dark-v11">dark</label>
    <input id="streets-v12" type="radio" name="rtoggle" value="streets">
    <label for="streets-v12">streets</label>
    <input id="outdoors-v12" type="radio" name="rtoggle" value="outdoors">
    <label for="outdoors-v12">outdoors</label>
  </div>
</div>

{% endblock %}
{% block scripts_end %}
<script src="https://api.mapbox.com/mapbox-gl-js/v3.4.0/mapbox-gl.js"></script>
<script src="https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-directions/v4.1.1/mapbox-gl-directions.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
  integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
<script src="{% static 'js/mapbox.js' %}"></script>
{% endblock %}